<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css'>
<link rel="stylesheet" href="/assets/css/style-chat.css">

<!-- partial:index.partial.html -->
<div class="container-chat clearfix">
  <div class="people-list" id="people-list">
    <div class="search">
      <input type="text" placeholder="جستجو" (keyup)="onSearchChat($event.target.value)" />
    </div>
    <ul class="list" *ngIf="source.length>0">

      <li class="clearfix" *ngFor="let item of source" (click)="onClick(item.postId,item.creatorId)">
        <img src="/assets/img/chat.png" width="50" alt="image" />
        <div class="about">
          <div class="name">{{item.postTitle}}</div>
        </div>
      </li>

    </ul>

    <ul class="list" *ngIf="source.length===0">

      <li class="clearfix">
        <img src="/assets/img/chat.png" width="50" alt="image" />
        <div class="about">
          <div class="name">بدون چت</div>
        </div>
      </li>

    </ul>

  </div>

  <div class="chat">
    <div class="chat-header clearfix">
      <img src="/assets/img/chat.png" width="50" alt="avatar" />

      <div class="chat-about">
        <div class="chat-with" *ngIf="single">{{single.postTitle}}</div>
        <div class="chat-with" *ngIf="!single">شما چت فعالی ندارید</div>
      </div>
    </div> <!-- end chat-header -->

    <div class="chat-history">
      <ul *ngIf="single">

        <li class="clearfix" *ngFor="let singleItem of single.comment">
          <div [class]="singleItem.witch===1 ?
            'message other-message float-right':
            'message my-message'">
            {{singleItem.text}}
          </div>
        </li>

      </ul>

    </div> <!-- end chat-history -->

    <div class="chat-message clearfix" *ngIf="single">
      <form (ngSubmit)="onAdd()" #form="ngForm">
        <textarea [(ngModel)]="create.text" #type="ngModel" name="message-to-send" id="message-to-send" placeholder="پیام خود را تایپ کنید" rows="3"></textarea>

        <button class="btn btn-primary width-100">ارسال پیام</button>
      </form>     
    </div> <!-- end chat-message -->

    <div class="chat-message clearfix" *ngIf="!single">
      <textarea name="message-to-send" id="message-to-send" placeholder="Type your message" rows="3"
        disabled></textarea>

      <button class="btn btn-primary width-100" disabled>برای ارسال پیام لطفا یک چت را انتخاب کنید</button>

    </div> <!-- end chat-message -->

  </div> <!-- end chat -->

</div> <!-- end container -->

<!-- partial -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.0/handlebars.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/list.js/1.1.1/list.min.js'></script>
<script src="/assets/js/script-chat.js"></script>
